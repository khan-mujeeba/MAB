SELECT * FROM RTD_COMMAND_TRIG LIKE '%CCL:MH0004/03SEP19%'

CCF:MH0004/03SEP19
CCL:MH0004/03SEP19
CI:MH0004/03SEP19
MBP:MH0004/04SEP19/KUL
NO PNL

--DJ
SELECT rtd.* FROM MHSCV.RRTM_TRIGGER_DATA rtd WHERE RTD.rtd_RESPONSE != '%ACCEPTED%' ORDER BY CREATED_DATE DESC

--DATE
SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE RTD_COMMAND_TRIG LIKE '%MBP:MH781%'

--DATE CI,CCL,CCF


SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE RTD_COMMAND_TRIG LIKE '%CL:MH0002%' ORDER BY CREATED_DATE DESC

SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE RTD_COMMAND_TRIG LIKE '%CCL:MH0004%' ORDER BY CREATED_DATE DESC

SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE RTD_COMMAND_TRIG LIKE '%CCF:MH0004%' ORDER BY CREATED_DATE DESC

--Dec by MBP,CI,CCL,CCF.
SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE RTD_COMMAND_TRIG LIKE '%MBP:MH004%'
OR RTD_COMMAND_TRIG LIKE '%CI:MH004%'
OR RTD_COMMAND_TRIG LIKE '%CCL:MH004%'
OR RTD_COMMAND_TRIG LIKE '%CCF:MH004%'
ORDER BY CREATED_DATE DESC




--
SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE RTD_COMMAND_TRIG != '%MBP:%' ORDER BY CREATED_DATE DESC

--Message is ccl,ccf,ci,mbp  





SELECT RTD_TRIG_ID, RTD_SC_ITEM_ID, RTD_FLT_SKED_ID, RTD_COMMAND_TRIG, RTD_RESPONSE, CREATED_BY, CREATED_DATE
FROM MHSCV.RRTM_TRIGGER_DATA;

SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE RTD_COMMAND_TRIG LIKE '%MBP:MH0518%'
OR RTD_COMMAND_TRIG LIKE '%CI:MH0518%'
OR RTD_COMMAND_TRIG LIKE '%CCL:MH0518%'
OR RTD_COMMAND_TRIG LIKE '%CCF:MH0518%'
ORDER BY CREATED_DATE DESC

SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE ((RTD_COMMAND_TRIG LIKE '%MBP:%' OR RTD_COMMAND_TRIG LIKE '%CCF:%') AND RTD_RESPONSE LIKE '%327 - NEED INITIALIZE %') AND CREATED_DATE > TIMESTAMP '2019-09-05 00:00:00.000000' ORDER BY CREATED_DATE DESC


--CURRENT DATE 
SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE ((RTD_COMMAND_TRIG LIKE '%MBP:%' OR RTD_COMMAND_TRIG LIKE '%CI:%') 
AND RTD_RESPONSE LIKE '%327 - NEED INITIALIZE %') 
AND CREATED_DATE > TIMESTAMP '2019-09-09 00:00:00.000000' ORDER BY CREATED_DATE DESC


--DATE
SELECT TO_CHAR
    (SYSDATE, 'MM-DD-YYYY HH24:MI:SS') "NOW"
     FROM DUAL;

SELECT RTD_TRIG_ID, RTD_SC_ITEM_ID, RTD_FLT_SKED_ID, RTD_COMMAND_TRIG, RTD_RESPONSE, CREATED_BY, CREATED_DATE
FROM MHSCV.RRTM_TRIGGER_DATA;

SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE RTD_COMMAND_TRIG LIKE '%MBP:MH0607%'
OR RTD_COMMAND_TRIG LIKE '%CI:MH0607%'
OR RTD_COMMAND_TRIG LIKE '%CCL:MH0607%'
OR RTD_COMMAND_TRIG LIKE '%CCF:MH0607%'
ORDER BY CREATED_DATE DESC


--Check Null Condition all day AND RTD_RESPwONSE LIKE '%null%'
SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE (RTD_COMMAND_TRIG LIKE '%MBP:%'
OR RTD_COMMAND_TRIG LIKE '%CI:%'
--OR RTD_COMMAND_TRIG LIKE '%CCL:%'
--OR RTD_COMMAND_TRIG LIKE '%CCF:%'
) 
AND RTD_RESPONSE LIKE '%null%'
ORDER BY CREATED_DATE DESC

--
SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE ((RTD_COMMAND_TRIG LIKE '%CI:%' OR RTD_COMMAND_TRIG LIKE '%MBP:%') AND RTD_RESPONSE LIKE '%327 - NEED INITIALIZE %') AND CREATED_DATE > TIMESTAMP '2019-09-14 00:00:00.000000' ORDER BY CREATED_DATE DESC


--CURRENT DATE 
SELECT * FROM MHSCV.RRTM_TRIGGER_DATA WHERE ((RTD_COMMAND_TRIG LIKE '%MBP:%' OR RTD_COMMAND_TRIG LIKE '%CI:%') 
AND RTD_RESPONSE LIKE '%327 - NEED INITIALIZE %') 
AND CREATED_DATE > TIMESTAMP '2020-01-04 00:00:00.000000' ORDER BY CREATED_DATE DESC




--Demo 
SELECT rtd.* 
FROM   mhscv.rrtm_trigger_data rtd 
WHERE  rtd.rtd_response NOT like '%ACCEPTED%' 
AND    ( 
              rtd.rtd_command_trig like 'CI%' 
       OR     rtd.rtd_command_trig like 'CCF%' 
       OR     rtd.rtd_command_trig like 'CCL%' 
       OR     rtd.rtd_command_trig like 'MBP%') 
AND    created_date >= (sysdate- interval '1' hour)


SELECT PNR, GDS_PNR, CARR_CD, FLT_NO, FLT_DT, DEP_STN_CD, ARR_STN_CD, TITLE, GENDER, RCRE_USER_ID, RCRE_DT, LCHG_USER_ID, LCHG_DT
FROM PDD.DCS_PAX_DATA;
